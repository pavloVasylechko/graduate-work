(function(){"use strict";var t={2509:function(t,e,a){var s=a(8935),i=a(2424),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],r={},c=r,d=a(1001),u=(0,d.Z)(c,o,n,!1,null,null,null),l=u.exports,v=a(2809),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-home"},[a("v-header-home"),a("div",{staticClass:"container"},[a("div",{staticClass:"v-home__form-container",class:{"v-home__form-container--active":t.isActive}},[a("form",{staticClass:"v-home__form",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.addNewTask.apply(null,arguments)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task,expression:"task"}],staticClass:"v-home__input",class:{invalid:t.$v.task.$dirty&&!t.$v.task.required,active:t.$v.task.$dirty&&!t.$v.task.required},attrs:{type:"text",placeholder:"The name of the task"},domProps:{value:t.task},on:{input:function(e){e.target.composing||(t.task=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"v-home__input--date",class:{invalid:t.$v.date.$dirty&&!t.$v.date.required,active:t.$v.date.$dirty&&!t.$v.date.required},attrs:{type:"date"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),a("div",{staticClass:"v-home-category"},[a("label",{attrs:{for:"home"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"v-home__input--radio",attrs:{type:"radio",name:"category",value:"home",id:"home"},domProps:{checked:t._q(t.category,"home")},on:{change:function(e){t.category="home"}}}),t._v("Home ")]),a("label",{attrs:{for:"work"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"v-home__input--radio",attrs:{type:"radio",name:"category",value:"work",id:"work"},domProps:{checked:t._q(t.category,"work")},on:{change:function(e){t.category="work"}}}),t._v("Work ")]),a("label",{attrs:{for:"education"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"v-home__input--radio",attrs:{type:"radio",name:"category",value:"education",id:"education"},domProps:{checked:t._q(t.category,"education")},on:{change:function(e){t.category="education"}}}),t._v("Education ")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"v-home__area",class:{invalid:t.$v.description.$dirty&&!t.$v.description.required,active:t.$v.description.$dirty&&!t.$v.description.required},attrs:{placeholder:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),a("button",{staticClass:"v-home__close",on:{click:function(e){e.preventDefault(),t.isActive=!1}}},[t._v("X")]),a("button",{staticClass:"v-home__add",attrs:{type:"submit"}},[t._v("Add new")])])]),a("div",{staticClass:"v-home__form-container",class:{"v-home__form-container--active":t.isChanging}},[a("form",{staticClass:"v-home__form",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.editTask.apply(null,arguments)}}},[a("h1",[t._v("Edit this task")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task,expression:"task"}],staticClass:"v-home__input",class:{invalid:t.$v.task.$dirty&&!t.$v.task.required,active:t.$v.task.$dirty&&!t.$v.task.required},attrs:{type:"text",placeholder:"The name of the task"},domProps:{value:t.task},on:{input:function(e){e.target.composing||(t.task=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"v-home__input--date",class:{invalid:t.$v.date.$dirty&&!t.$v.date.required,active:t.$v.date.$dirty&&!t.$v.date.required},attrs:{type:"date"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),a("div",{staticClass:"v-home-category"},[a("label",{attrs:{for:"home"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"v-home__input--radio",attrs:{type:"radio",name:"category",value:"home",id:"home"},domProps:{checked:t._q(t.category,"home")},on:{change:function(e){t.category="home"}}}),t._v("Home ")]),a("label",{attrs:{for:"work"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"v-home__input--radio",attrs:{type:"radio",name:"category",value:"work",id:"work"},domProps:{checked:t._q(t.category,"work")},on:{change:function(e){t.category="work"}}}),t._v("Work ")]),a("label",{attrs:{for:"education"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"v-home__input--radio",attrs:{type:"radio",name:"category",value:"education",id:"education"},domProps:{checked:t._q(t.category,"education")},on:{change:function(e){t.category="education"}}}),t._v("Education ")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"v-home__area",class:{invalid:t.$v.description.$dirty&&!t.$v.description.required,active:t.$v.description.$dirty&&!t.$v.description.required},attrs:{placeholder:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),a("button",{staticClass:"v-home__close",on:{click:function(e){e.preventDefault(),t.isChanging=!1}}},[t._v("X")]),a("button",{staticClass:"v-home__add",attrs:{type:"submit"}},[t._v("Change task")])])]),a("div",{staticClass:"v-home__content"},[a("h1",{staticClass:"v-home__title"},[t._v("Task list")]),a("v-home-list",{key:t.count,on:{editTask:t.editThisTask,removeTask:t.removeTask}}),a("button",{staticClass:"v-home-list-add",on:{click:function(e){t.isActive=!0}}},[t._v("+")])],1)])],1)},h=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-home-list"},t._l(t.tasks,(function(e){return a("v-home-list-element",{key:e.id,attrs:{oneTask:e},on:{editTask:t.editTask,removeTask:t.removeTask}})})),1)},f=[],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-home-list-element"},[a("div",{staticClass:"task__check"},[a("button",{staticClass:"task__check-btn",class:{"task__check-btn--active":t.isChecked},on:{click:function(e){e.preventDefault(),t.isChecked=!t.isChecked}}})]),a("div",{staticClass:"task__content"},[a("ul",{staticClass:"task__list"},[a("li",{staticClass:"task__list--element"},[a("p",{staticClass:"task__name",class:{"task__name--active":t.isChecked}},[t._v(t._s(t.oneTask.task))]),a("p",{staticClass:"task__time",class:{"task__time--active":t.isChecked}},[t._v(t._s(t.oneTask.date))]),a("div",{staticClass:"task__category",class:{"task__category--active":t.isChecked}},[t._v(t._s(t.oneTask.category))]),a("div",{staticClass:"task__discription",class:{"task__discription--active":t.isChecked}},[t._v(t._s(t.oneTask.description))])])])]),a("div",{staticClass:"task__redaction"},[a("button",{staticClass:"task__remove",on:{click:t.removeTask}},[t._v("Remove")]),a("button",{staticClass:"task__edit",on:{click:t.editTaskClick}},[t._v("Edit")])])])},g=[],_={data:()=>({isChecked:!1,category:"",date:"",description:"",task:""}),props:{oneTask:{type:Object,default:()=>({})}},methods:{editTaskClick(){this.$emit("editTask",this.oneTask)},async removeTask(){try{await this.$store.dispatch("deleteTask",{id:this.oneTask.id}),this.$emit("removeTask")}catch(t){}}}},y=_,C=(0,d.Z)(y,k,g,!1,null,"7f33b39e",null),w=C.exports,b={name:"v-home-list",data:()=>({tasks:[]}),components:{vHomeListElement:w},async mounted(){this.tasks=await this.$store.dispatch("fetchTasks")},methods:{editTask(t){this.$emit("editTask",t)},removeTask(){this.$emit("removeTask")}}},$=b,T=(0,d.Z)($,p,f,!1,null,"7cf31935",null),x=T.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home__header"},[a("div",{staticClass:"container"},[a("nav",{staticClass:"header__menu"},[a("ul",{staticClass:"header__menu-list"},[a("li",{staticClass:"header__menu-element"},[a("div",{staticClass:"header__user-name"},[t._v("Hello "+t._s(t.name))])]),a("li",{staticClass:"header__menu-element"},[a("a",{staticClass:"header__menu-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout.apply(null,arguments)}}},[t._v("Go Out")])])])])])])},E=[],P={name:"v-header-home",methods:{async logout(){await this.$store.dispatch("entrance"),console.log("Вийшов"),this.$router.push("/login?message=logoout")}},async mounted(){Object.keys(this.$store.getters.info).length||await this.$store.dispatch("fetchInfo")},computed:{name(){return this.$store.getters.info.name}}},q=P,O=(0,d.Z)(q,Z,E,!1,null,null,null),N=O.exports,A=a(6409),j={name:"v-home",data:()=>({isActive:!1,isChanging:!1,category:"home",editDate:null,date:"",description:"",task:"",taskId:null,count:0}),components:{vHomeList:x,vHeaderHome:N},methods:{async addNewTask(){if(this.$v.$invalid)this.$v.$touch();else try{const t=await this.$store.dispatch("createTask",{task:this.task,category:this.category,date:this.date,description:this.description});this.category="home",this.date="",this.description="",this.task="",console.log(t),this.count++}catch(t){}},editThisTask(t){this.isChanging=!0,this.category=t.category,this.date=t.date,this.description=t.description,this.task=t.task,this.taskId=t.id},async editTask(){if(this.$v.$invalid)this.$v.$touch();else try{await this.$store.dispatch("changeTask",{task:this.task,category:this.category,date:this.date,description:this.description,id:this.taskId});this.count++}catch(t){}},removeTask(){this.count++}},validations:{task:{required:A.C1},date:{required:A.C1},description:{required:A.C1}}},S=j,I=(0,d.Z)(S,m,h,!1,null,"402718e2",null),D=I.exports,U=a(9017);s.Z.use(v.Z);const H=[{path:"/",name:"home",component:D,meta:{auth:!0}},{path:"/login",name:"login",component:()=>a.e(809).then(a.bind(a,1809))},{path:"/registration",name:"registration",component:()=>a.e(224).then(a.bind(a,4224))}],L=new v.Z({mode:"history",base:"/",routes:H});L.beforeEach(((t,e,a)=>{const s=U.Z.auth().currentUser,i=t.matched.some((t=>t.meta.auth));i&&!s?a("/login?message=login"):a()}));var B=L,F=a(4665),M={state:{},getters:{},mutations:{},actions:{async logIn({dispatch:t,commit:e},{email:a,password:s}){try{await U.Z.auth().signInWithEmailAndPassword(a,s)}catch(i){throw i}},async entrance({commit:t}){await U.Z.auth().signOut(),t("clear")}}},W={state:{},getters:{},mutations:{},actions:{async registration({dispatch:t},{email:e,password:a,name:s}){try{await U.Z.auth().createUserWithEmailAndPassword(e,a);const i=await t("getUid");console.log(i),await U.Z.database().ref(`/users/${i}/info`).set({name:s})}catch(i){throw console.log(i),i}},getUid(){const t=U.Z.auth().currentUser;return t?t.uid:null}}},K={state:{},getters:{},mutations:{},actions:{async fetchTasks(){try{const t=(await U.Z.database().ref("/users/tasks/").once("value")).val()||{};return Object.keys(t).map((e=>({...t[e],id:e})))}catch(t){}},async createTask({dispatch:t},{task:e,category:a,date:s,description:i}){try{const t=await U.Z.database().ref("/users/tasks/").push({task:e,category:a,date:s,description:i});return{task:e,category:a,date:s,description:i,id:t.key}}catch(o){}},async changeTask({dispatch:t},{task:e,category:a,date:s,description:i,id:o}){try{await U.Z.database().ref("/users/tasks/").child(o).update({task:e,category:a,date:s,description:i})}catch(n){}},async deleteTask({dispatch:t},{id:e}){try{await U.Z.database().ref("/users/tasks/").child(e).remove()}catch(a){}}}},z={state:{info:{}},mutations:{setInfo(t,e){t.info=e},clear(t){t.info={}}},actions:{async fetchInfo({dispatch:t,commit:e}){try{const a=await t("getUid"),s=(await U.Z.database().ref(`/users/${a}/info`).once("value")).val();e("setInfo",s)}catch(a){}}},getters:{info:t=>t.info}};s.Z.use(F.ZP);var R=new F.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{authorization:M,registration:W,info:z,tasks:K}});a(2530),a(9037);let X;s.Z.use(i.ZP),s.Z.config.productionTip=!1,U.Z.initializeApp({apiKey:"AIzaSyBgrwRXvv3KJ7rffjbTdxFryPKaDOWJ9Ak",authDomain:"vue-graduate-work.firebaseapp.com",databaseURL:"https://vue-graduate-work-default-rtdb.europe-west1.firebasedatabase.app",projectId:"vue-graduate-work",storageBucket:"vue-graduate-work.appspot.com",messagingSenderId:"561822847368"}),U.Z.auth().onAuthStateChanged((()=>{X||(X=new s.Z({router:B,store:R,render:t=>t(l)}).$mount("#app"))}))}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var o=e[s]={id:s,loaded:!1,exports:{}};return t[s](o,o.exports,a),o.loaded=!0,o.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,o){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],i=t[u][1],o=t[u][2];for(var r=!0,c=0;c<s.length;c++)(!1&o||n>=o)&&Object.keys(a.O).every((function(t){return a.O[t](s[c])}))?s.splice(c--,1):(r=!1,o<n&&(n=o));if(r){t.splice(u--,1);var d=i();void 0!==d&&(e=d)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[s,i,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,s){return a.f[s](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{224:"6c6ee9bd",809:"3c44d84c"}[t]+".js"}}(),function(){a.miniCssF=function(t){return"css/"+t+"."+{224:"fd68260f",809:"d08dc79b"}[t]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vue-graduate-work:";a.l=function(s,i,o,n){if(t[s])t[s].push(i);else{var r,c;if(void 0!==o)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var l=d[u];if(l.getAttribute("src")==s||l.getAttribute("data-webpack")==e+o){r=l;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",e+o),r.src=s),t[s]=[i];var v=function(e,a){r.onerror=r.onload=null,clearTimeout(m);var i=t[s];if(delete t[s],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((function(t){return t(a)})),e)return e(a)},m=setTimeout(v.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=v.bind(null,r.onerror),r.onload=v.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t=function(t,e,a,s){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var o=function(o){if(i.onerror=i.onload=null,"load"===o.type)a();else{var n=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=r,i.parentNode.removeChild(i),s(c)}};return i.onerror=i.onload=o,i.href=e,document.head.appendChild(i),i},e=function(t,e){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var i=a[s],o=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(o===t||o===e))return i}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){i=n[s],o=i.getAttribute("data-href");if(o===t||o===e)return i}},s=function(s){return new Promise((function(i,o){var n=a.miniCssF(s),r=a.p+n;if(e(n,r))return i();t(s,r,i,o)}))},i={143:0};a.f.miniCss=function(t,e){var a={224:1,809:1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=s(t).then((function(){i[t]=0}),(function(e){throw delete i[t],e})))}}(),function(){var t={143:0};a.f.j=function(e,s){var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)s.push(i[2]);else{var o=new Promise((function(a,s){i=t[e]=[a,s]}));s.push(i[2]=o);var n=a.p+a.u(e),r=new Error,c=function(s){if(a.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var o=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;r.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",r.name="ChunkLoadError",r.type=o,r.request=n,i[1](r)}};a.l(n,c,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,o,n=s[0],r=s[1],c=s[2],d=0;if(n.some((function(e){return 0!==t[e]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(c)var u=c(a)}for(e&&e(s);d<n.length;d++)o=n[d],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},s=self["webpackChunkvue_graduate_work"]=self["webpackChunkvue_graduate_work"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2509)}));s=a.O(s)})();
//# sourceMappingURL=app.b09d9b03.js.map